{"version":3,"file":"normalizeChartTypes.spec.js","names":["describe","test","config","type","normalizeChartTypes","data","mockSdkDataResponse","fields","mockFields","transformedConfig","expect","toEqual","undefined"],"sources":["../../../src/configTransformations/normalizeChartTypes.spec.ts"],"sourcesContent":["/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport { normalizeChartTypes } from './normalizeChartTypes'\nimport { mockFields, mockSdkDataResponse } from '../fixtures'\n\ndescribe('normalizeChartTypes', () => {\n  describe('config.type ===', () => {\n    test('default', () => {\n      const config = { type: 'default' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('default')\n    })\n\n    test('area', () => {\n      const config = { type: 'area' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('area')\n    })\n\n    test('bar', () => {\n      const config = { type: 'bar' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('bar')\n    })\n\n    test('column', () => {\n      const config = { type: 'column' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('column')\n    })\n\n    test('line', () => {\n      const config = { type: 'line' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('line')\n    })\n\n    test('pie', () => {\n      const config = { type: 'pie' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('pie')\n    })\n\n    test('scatter', () => {\n      const config = { type: 'scatter' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('scatter')\n    })\n\n    test('sparkline', () => {\n      const config = { type: 'sparkline' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('sparkline')\n    })\n\n    test('table', () => {\n      const config = { type: 'table' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('table')\n    })\n\n    test('looker_area', () => {\n      const config = { type: 'looker_area' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('area')\n    })\n\n    test('looker_bar', () => {\n      const config = { type: 'looker_bar' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('bar')\n    })\n\n    test('looker_column', () => {\n      const config = { type: 'looker_column' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('column')\n    })\n\n    test('looker_line', () => {\n      const config = { type: 'looker_line' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('line')\n    })\n\n    test('looker_pie', () => {\n      const config = { type: 'looker_pie' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('pie')\n    })\n\n    test('looker_scatter', () => {\n      const config = { type: 'looker_scatter' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('scatter')\n    })\n\n    test('looker_grid', () => {\n      const config = { type: 'looker_grid' as const }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('table')\n    })\n\n    test('undefined', () => {\n      const config = { type: (undefined as unknown) as 'default' }\n      const { config: transformedConfig } = normalizeChartTypes({\n        config,\n        data: mockSdkDataResponse,\n        fields: mockFields,\n      })\n      expect(transformedConfig.type).toEqual('default')\n    })\n  })\n\n  test('config.type is an unknown type', () => {\n    const config = { type: 'gouda-cheese-chart' as 'default' }\n    const { config: transformedConfig } = normalizeChartTypes({\n      config,\n      data: mockSdkDataResponse,\n      fields: mockFields,\n    })\n    expect(transformedConfig.type).toEqual('gouda-cheese-chart')\n  })\n})\n"],"mappings":"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"}