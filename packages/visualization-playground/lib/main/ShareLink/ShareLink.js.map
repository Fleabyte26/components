{"version":3,"file":"ShareLink.js","names":["ShareLink","slug","dashboard","useContext","ExtensionContext","extensionSDK","useQueryIdFromDashboard","dashboardQueryId","queryId","useQueryId","DataState","useContainer","getById","share_url","handleClick","openBrowserWindow"],"sources":["../../../src/ShareLink/ShareLink.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React, { useContext } from 'react'\nimport {\n  DataState,\n  useQueryId,\n  useQueryIdFromDashboard,\n} from '@looker/components-data'\nimport { Link } from '@looker/components'\nimport type { ExtensionContextData } from '@looker/extension-sdk-react'\nimport type { IQuery } from '@looker/sdk'\nimport { ExtensionContext } from '@looker/extension-sdk-react'\n\ntype ShareLinkProps = {\n  slug?: string | number\n  dashboard?: number\n}\n\nexport const ShareLink = ({ slug, dashboard }: ShareLinkProps) => {\n  const { extensionSDK } = useContext<ExtensionContextData>(ExtensionContext)\n\n  const { queryId: dashboardQueryId } = useQueryIdFromDashboard(dashboard)\n  const { queryId } = useQueryId(slug)\n  const { getById } = DataState.useContainer()\n\n  const { share_url = '' } =\n    getById(dashboardQueryId || queryId, 'metadata') || ({} as IQuery)\n\n  if (!extensionSDK) return null\n\n  const handleClick = () => {\n    extensionSDK.openBrowserWindow(share_url || '', '_blank')\n  }\n\n  if (share_url) {\n    return (\n      <Link href=\"#\" onClick={handleClick} fontSize=\"small\">\n        View query in Explore\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n"],"mappings":";;;;;;;AAIA;AACA;AAKA;AAGA;AAA8D;AAAA;;AAOvD,IAAMA,SAAS,GAAG,SAAZA,SAAS,OAA4C;EAAA,IAAtCC,IAAI,QAAJA,IAAI;IAAEC,SAAS,QAATA,SAAS;EACzC,kBAAyB,IAAAC,iBAAU,EAAuBC,mCAAgB,CAAC;IAAnEC,YAAY,eAAZA,YAAY;EAEpB,4BAAsC,IAAAC,uCAAuB,EAACJ,SAAS,CAAC;IAAvDK,gBAAgB,yBAAzBC,OAAO;EACf,kBAAoB,IAAAC,0BAAU,EAACR,IAAI,CAAC;IAA5BO,OAAO,eAAPA,OAAO;EACf,4BAAoBE,yBAAS,CAACC,YAAY,EAAE;IAApCC,OAAO,yBAAPA,OAAO;EAEf,YACEA,OAAO,CAACL,gBAAgB,IAAIC,OAAO,EAAE,UAAU,CAAC,IAAK,CAAC,CAAY;IAAA,wBAD5DK,SAAS;IAATA,SAAS,gCAAG,EAAE;EAGtB,IAAI,CAACR,YAAY,EAAE,OAAO,IAAI;EAE9B,IAAMS,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxBT,YAAY,CAACU,iBAAiB,CAACF,SAAS,IAAI,EAAE,EAAE,QAAQ,CAAC;EAC3D,CAAC;EAED,IAAIA,SAAS,EAAE;IACb,OACE,gCAAC,gBAAI;MAAC,IAAI,EAAC,GAAG;MAAC,OAAO,EAAEC,WAAY;MAAC,QAAQ,EAAC;IAAO,2BAE9C;EAEX,CAAC,MAAM;IACL,OAAO,IAAI;EACb;AACF,CAAC;AAAA"}