{"version":3,"file":"SeriesSizeBy.js","names":["renderFor","SeriesSizeBy","props","chartType","fields","series","onSeriesChange","includes","has","handleChange","value","draft","size_by","sizeByOptions","measures","map","m","name","s"],"sources":["../../../src/Series/SeriesSizeBy.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React from 'react'\nimport type {\n  CScatter,\n  CScatterSeries,\n  Fields,\n} from '@looker/visualizations-adapters'\nimport has from 'lodash/has'\nimport { FieldSelect } from '@looker/components'\n\n/**\n * A list of relevant charts that access this configuration\n */\nexport type CSeriesSizeBySupported = CScatter\n\nconst renderFor: Array<CSeriesSizeBySupported['type']> = ['scatter']\n\nexport type SeriesSizeByProps = {\n  chartType: CSeriesSizeBySupported['type']\n  fields: Fields\n  series: CScatterSeries\n  onSeriesChange: (series: CScatterSeries) => void\n}\n\nexport const SeriesSizeBy = (props: SeriesSizeByProps) => {\n  const { chartType, fields, series, onSeriesChange } = props\n\n  if (!renderFor.includes(chartType) && !has(series, 'size_by')) {\n    // Early return! Only render for supported charts\n    return null\n  }\n\n  const handleChange = (value: string) => {\n    const draft = { ...series, size_by: value }\n    onSeriesChange(draft)\n  }\n\n  const sizeByOptions = ['none', ...fields.measures.map(m => m.name)]\n\n  return (\n    <FieldSelect\n      label=\"Size By\"\n      onChange={handleChange}\n      options={sizeByOptions.map(s => ({ value: s }))}\n      value={series.size_by || 'none'}\n    />\n  )\n}\n"],"mappings":";;;;;;;;;AAIA;AAMA;AACA;AAAgD;AAAA;AAOhD,IAAMA,SAAgD,GAAG,CAAC,SAAS,CAAC;AAS7D,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIC,KAAwB,EAAK;EACxD,IAAQC,SAAS,GAAqCD,KAAK,CAAnDC,SAAS;IAAEC,MAAM,GAA6BF,KAAK,CAAxCE,MAAM;IAAEC,MAAM,GAAqBH,KAAK,CAAhCG,MAAM;IAAEC,cAAc,GAAKJ,KAAK,CAAxBI,cAAc;EAEjD,IAAI,CAACN,SAAS,CAACO,QAAQ,CAACJ,SAAS,CAAC,IAAI,CAAC,IAAAK,eAAG,EAACH,MAAM,EAAE,SAAS,CAAC,EAAE;IAE7D,OAAO,IAAI;EACb;EAEA,IAAMI,YAAY,GAAG,SAAfA,YAAY,CAAIC,KAAa,EAAK;IACtC,IAAMC,KAAK,mCAAQN,MAAM;MAAEO,OAAO,EAAEF;IAAK,EAAE;IAC3CJ,cAAc,CAACK,KAAK,CAAC;EACvB,CAAC;EAED,IAAME,aAAa,IAAI,MAAM,6CAAKT,MAAM,CAACU,QAAQ,CAACC,GAAG,CAAC,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,IAAI;EAAA,EAAC,EAAC;EAEnE,OACE,gCAAC,uBAAW;IACV,KAAK,EAAC,SAAS;IACf,QAAQ,EAAER,YAAa;IACvB,OAAO,EAAEI,aAAa,CAACE,GAAG,CAAC,UAAAG,CAAC;MAAA,OAAK;QAAER,KAAK,EAAEQ;MAAE,CAAC;IAAA,CAAC,CAAE;IAChD,KAAK,EAAEb,MAAM,CAACO,OAAO,IAAI;EAAO,EAChC;AAEN,CAAC;AAAA"}