{"version":3,"file":"CodeEditor.js","names":["CodeEditor","configOverrides","config","query","dashboard","useQueryIdFromDashboard","dashboardQueryId","queryId","useQueryId","useVisConfig","visConfig","visConfigSorted","sortObjectByKeys","visConfigToDisplay","JSON","stringify"],"sources":["../../../src/CodeEditor/CodeEditor.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React from 'react'\nimport type { CAll } from '@looker/visualizations-adapters'\nimport {\n  useVisConfig,\n  useQueryId,\n  useQueryIdFromDashboard,\n} from '@looker/components-data'\nimport { Box2 } from '@looker/components'\nimport { sortObjectByKeys } from '../utils'\nimport { CodeBlock } from '../CodeBlock'\n\ntype CodeEditorProps = {\n  config: Partial<CAll>\n} & (\n  | {\n      dashboard?: never\n      query?: string | number\n    }\n  | {\n      dashboard?: number\n      query?: never\n    }\n)\n\nexport const CodeEditor = ({\n  config: configOverrides,\n  query,\n  dashboard,\n}: CodeEditorProps) => {\n  const { queryId: dashboardQueryId } = useQueryIdFromDashboard(dashboard)\n  const { queryId } = useQueryId(query || dashboardQueryId)\n  const { visConfig } = useVisConfig(queryId, configOverrides)\n  const visConfigSorted = sortObjectByKeys(visConfig)\n  const visConfigToDisplay = JSON.stringify(visConfigSorted, null, 2)\n\n  return (\n    <Box2 mt=\"large\" height=\"100%\" width=\"100%\">\n      <CodeBlock code={visConfigToDisplay} language=\"json\" />\n    </Box2>\n  )\n}\n"],"mappings":";;;;;;;AAIA;AAEA;AAKA;AACA;AACA;;AAeO,IAAMA,UAAU,GAAG,SAAbA,UAAU,OAIA;EAAA,IAHbC,eAAe,QAAvBC,MAAM;IACNC,KAAK,QAALA,KAAK;IACLC,SAAS,QAATA,SAAS;EAET,4BAAsC,IAAAC,uCAAuB,EAACD,SAAS,CAAC;IAAvDE,gBAAgB,yBAAzBC,OAAO;EACf,kBAAoB,IAAAC,0BAAU,EAACL,KAAK,IAAIG,gBAAgB,CAAC;IAAjDC,OAAO,eAAPA,OAAO;EACf,oBAAsB,IAAAE,4BAAY,EAACF,OAAO,EAAEN,eAAe,CAAC;IAApDS,SAAS,iBAATA,SAAS;EACjB,IAAMC,eAAe,GAAG,IAAAC,uBAAgB,EAACF,SAAS,CAAC;EACnD,IAAMG,kBAAkB,GAAGC,IAAI,CAACC,SAAS,CAACJ,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC;EAEnE,OACE,gCAAC,gBAAI;IAAC,EAAE,EAAC,OAAO;IAAC,MAAM,EAAC,MAAM;IAAC,KAAK,EAAC;EAAM,GACzC,gCAAC,oBAAS;IAAC,IAAI,EAAEE,kBAAmB;IAAC,QAAQ,EAAC;EAAM,EAAG,CAClD;AAEX,CAAC;AAAA"}