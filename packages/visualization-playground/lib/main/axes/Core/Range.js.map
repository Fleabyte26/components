{"version":3,"file":"Range.js","names":["Range","props","axis","range","onAxisChange","yMin","yMax","deriveRangeValue","e","target","value","isNumeric","Number","handleMinChange","handleMaxChange"],"sources":["../../../../src/axes/Core/Range.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { FormEvent, FormEventHandler } from 'react'\nimport React from 'react'\nimport { isNumeric } from '@looker/visualizations-adapters'\nimport type {\n  YAxisConfig,\n  YAxisEndpoint,\n} from '@looker/visualizations-adapters'\nimport { FieldText, Fieldset } from '@looker/components'\nimport { FieldInfo } from '../../FieldInfo'\n\nexport type RangeEditorProps = {\n  axis: YAxisConfig\n  onAxisChange: (axis: YAxisConfig) => void\n}\n\nexport const Range = (props: RangeEditorProps) => {\n  const {\n    axis,\n    axis: { range = ['auto', 'auto'] },\n    onAxisChange,\n  } = props\n\n  const [yMin, yMax] = range\n\n  const deriveRangeValue = (e: FormEvent): YAxisEndpoint => {\n    const { value } = e.target as HTMLInputElement\n\n    switch (true) {\n      case isNumeric(value):\n        return Number(value)\n      case value === '-': // allow typing a negative number\n        return value as unknown as number\n      default:\n        return 'auto'\n    }\n  }\n\n  const handleMinChange: FormEventHandler<HTMLInputElement> = e => {\n    onAxisChange({ ...axis, range: [deriveRangeValue(e), yMax] })\n  }\n\n  const handleMaxChange: FormEventHandler<HTMLInputElement> = e => {\n    onAxisChange({ ...axis, range: [yMin, deriveRangeValue(e)] })\n  }\n\n  return (\n    <Fieldset inline>\n      <FieldText\n        label=\"Y-min\"\n        value={yMin}\n        onChange={handleMinChange}\n        detail={<FieldInfo content=\"Number or 'auto'\" />}\n      />\n      <FieldText\n        label=\"Y-max\"\n        value={yMax}\n        onChange={handleMaxChange}\n        detail={<FieldInfo content=\"Number or 'auto'\" />}\n      />\n    </Fieldset>\n  )\n}\n"],"mappings":";;;;;;;;;AAKA;AACA;AAKA;AACA;AAA2C;AAAA;AAOpC,IAAMA,KAAK,GAAG,SAARA,KAAK,CAAIC,KAAuB,EAAK;EAChD,IACEC,IAAI,GAGFD,KAAK,CAHPC,IAAI;IAAA,oBAGFD,KAAK,CAFPC,IAAI,CAAIC,KAAK;IAALA,KAAK,kCAAG,CAAC,MAAM,EAAE,MAAM,CAAC;IAChCC,YAAY,GACVH,KAAK,CADPG,YAAY;EAGd,6CAAqBD,KAAK;IAAnBE,IAAI;IAAEC,IAAI;EAEjB,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,CAAY,EAAoB;IACxD,WAAkBA,CAAC,CAACC,MAAM;MAAlBC,KAAK,QAALA,KAAK;IAEb,QAAQ,IAAI;MACV,KAAK,IAAAC,iCAAS,EAACD,KAAK,CAAC;QACnB,OAAOE,MAAM,CAACF,KAAK,CAAC;MACtB,KAAKA,KAAK,KAAK,GAAG;QAChB,OAAOA,KAAK;MACd;QACE,OAAO,MAAM;IAAA;EAEnB,CAAC;EAED,IAAMG,eAAmD,GAAG,SAAtDA,eAAmD,CAAGL,CAAC,EAAI;IAC/DJ,YAAY,iCAAMF,IAAI;MAAEC,KAAK,EAAE,CAACI,gBAAgB,CAACC,CAAC,CAAC,EAAEF,IAAI;IAAC,GAAG;EAC/D,CAAC;EAED,IAAMQ,eAAmD,GAAG,SAAtDA,eAAmD,CAAGN,CAAC,EAAI;IAC/DJ,YAAY,iCAAMF,IAAI;MAAEC,KAAK,EAAE,CAACE,IAAI,EAAEE,gBAAgB,CAACC,CAAC,CAAC;IAAC,GAAG;EAC/D,CAAC;EAED,OACE,gCAAC,oBAAQ;IAAC,MAAM;EAAA,GACd,gCAAC,qBAAS;IACR,KAAK,EAAC,OAAO;IACb,KAAK,EAAEH,IAAK;IACZ,QAAQ,EAAEQ,eAAgB;IAC1B,MAAM,EAAE,gCAAC,oBAAS;MAAC,OAAO,EAAC;IAAkB;EAAI,EACjD,EACF,gCAAC,qBAAS;IACR,KAAK,EAAC,OAAO;IACb,KAAK,EAAEP,IAAK;IACZ,QAAQ,EAAEQ,eAAgB;IAC1B,MAAM,EAAE,gCAAC,oBAAS;MAAC,OAAO,EAAC;IAAkB;EAAI,EACjD,CACO;AAEf,CAAC;AAAA"}