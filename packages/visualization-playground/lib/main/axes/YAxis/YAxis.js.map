{"version":3,"file":"YAxis.js","names":["renderFor","YAxis","props","config","y_axis","onConfigChange","includes","type","has","handleConfigChange","axisIndex","axis","draftYAxis"],"sources":["../../../../src/axes/YAxis/YAxis.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { Dispatch, SetStateAction } from 'react'\nimport React from 'react'\nimport { Core } from '../Core'\nimport { Fieldset } from '@looker/components'\nimport type {\n  CArea,\n  CBar,\n  CColumn,\n  CLine,\n  CScatter,\n  CSparkline,\n  CAll,\n  YAxisConfig,\n} from '@looker/visualizations-adapters'\nimport has from 'lodash/has'\n\n/**\n * A list of relevant charts that access this configuration\n */\ntype SupportedChartConfig =\n  | CArea\n  | CBar\n  | CColumn\n  | CLine\n  | CScatter\n  | CSparkline\n\nconst renderFor: Array<SupportedChartConfig['type']> = [\n  'area',\n  'bar',\n  'column',\n  'line',\n  'scatter',\n  'sparkline',\n]\n\nexport type YAxisProps = {\n  config: SupportedChartConfig\n  onConfigChange: Dispatch<SetStateAction<Partial<CAll>>>\n}\n\nexport const YAxis = (props: YAxisProps) => {\n  const {\n    config,\n    config: { y_axis = [] },\n    onConfigChange,\n  } = props\n\n  if (!renderFor.includes(config.type) && !has(config, 'y_axis')) {\n    // Early return! Only render for supported charts\n    return null\n  }\n\n  const handleConfigChange = (axisIndex: number, axis: YAxisConfig) => {\n    const draftYAxis = [...y_axis]\n    draftYAxis[axisIndex] = axis\n    onConfigChange({ ...config, y_axis: [...draftYAxis] })\n  }\n\n  return (\n    <Fieldset legend=\"Y-Axis\" defaultOpen accordion>\n      <Core axisConfig={y_axis} onAxisChange={handleConfigChange} />\n    </Fieldset>\n  )\n}\n"],"mappings":";;;;;;;;;AAKA;AACA;AACA;AAWA;AAA4B;AAAA;AAa5B,IAAMA,SAA8C,GAAG,CACrD,MAAM,EACN,KAAK,EACL,QAAQ,EACR,MAAM,EACN,SAAS,EACT,WAAW,CACZ;AAOM,IAAMC,KAAK,GAAG,SAARA,KAAK,CAAIC,KAAiB,EAAK;EAC1C,IACEC,MAAM,GAGJD,KAAK,CAHPC,MAAM;IAAA,uBAGJD,KAAK,CAFPC,MAAM,CAAIC,MAAM;IAANA,MAAM,qCAAG,EAAE;IACrBC,cAAc,GACZH,KAAK,CADPG,cAAc;EAGhB,IAAI,CAACL,SAAS,CAACM,QAAQ,CAACH,MAAM,CAACI,IAAI,CAAC,IAAI,CAAC,IAAAC,eAAG,EAACL,MAAM,EAAE,QAAQ,CAAC,EAAE;IAE9D,OAAO,IAAI;EACb;EAEA,IAAMM,kBAAkB,GAAG,SAArBA,kBAAkB,CAAIC,SAAiB,EAAEC,IAAiB,EAAK;IACnE,IAAMC,UAAU,uCAAOR,MAAM,CAAC;IAC9BQ,UAAU,CAACF,SAAS,CAAC,GAAGC,IAAI;IAC5BN,cAAc,iCAAMF,MAAM;MAAEC,MAAM,sCAAMQ,UAAU;IAAC,GAAG;EACxD,CAAC;EAED,OACE,gCAAC,oBAAQ;IAAC,MAAM,EAAC,QAAQ;IAAC,WAAW;IAAC,SAAS;EAAA,GAC7C,gCAAC,UAAI;IAAC,UAAU,EAAER,MAAO;IAAC,YAAY,EAAEK;EAAmB,EAAG,CACrD;AAEf,CAAC;AAAA"}