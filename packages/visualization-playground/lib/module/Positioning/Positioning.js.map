{"version":3,"file":"Positioning.js","names":["React","FieldSelect","renderFor","barPositions","linePositions","Positioning","props","config","onConfigChange","includes","type","handleChange","newPosition","draft","positioning","positions","map","p","value"],"sources":["../../../src/Positioning/Positioning.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React from 'react'\nimport type { Dispatch, SetStateAction } from 'react'\nimport type {\n  CAll,\n  CArea,\n  CBar,\n  CColumn,\n  CLine,\n  CScatter,\n  LinearPositions,\n  BarPositions,\n} from '@looker/visualizations-adapters'\nimport { FieldSelect } from '@looker/components'\n\n/**\n * A list of relevant charts that access this configuration\n */\ntype SupportedChartConfig = CBar | CColumn | CArea | CLine | CScatter\n\nconst renderFor: Array<SupportedChartConfig['type']> = ['area', 'bar', 'column']\n\nconst barPositions: BarPositions[] = ['grouped', 'stacked', 'percent']\nconst linePositions: LinearPositions[] = ['overlay', 'stacked', 'percent']\n\nexport type PositioningProps = {\n  config: SupportedChartConfig\n  onConfigChange: Dispatch<SetStateAction<Partial<CAll>>>\n}\n\nexport const Positioning = (props: PositioningProps) => {\n  const { config, onConfigChange } = props\n  if (!renderFor.includes(config.type)) {\n    // Early return! Only render for supported charts\n    return null\n  }\n\n  const handleChange = (newPosition: string) => {\n    const draft = { ...config, positioning: newPosition }\n    onConfigChange(draft as SupportedChartConfig)\n  }\n\n  const positions =\n    config.type === 'bar' || config.type === 'column'\n      ? barPositions\n      : linePositions\n\n  return (\n    <FieldSelect\n      label=\"Positioning\"\n      value={config.positioning}\n      onChange={handleChange}\n      options={positions.map(p => ({ value: p }))}\n    />\n  )\n}\n"],"mappings":";;;AAIA,OAAOA,KAAK,MAAM,OAAO;AAYzB,SAASC,WAAW,QAAQ,oBAAoB;;AAOhD,MAAMC,SAA8C,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC;AAEhF,MAAMC,YAA4B,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AACtE,MAAMC,aAAgC,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AAO1E,OAAO,MAAMC,WAAW,GAAIC,KAAuB,IAAK;EACtD,MAAM;IAAEC,MAAM;IAAEC;EAAe,CAAC,GAAGF,KAAK;EACxC,IAAI,CAACJ,SAAS,CAACO,QAAQ,CAACF,MAAM,CAACG,IAAI,CAAC,EAAE;IAEpC,OAAO,IAAI;EACb;EAEA,MAAMC,YAAY,GAAIC,WAAmB,IAAK;IAC5C,MAAMC,KAAK,mCAAQN,MAAM;MAAEO,WAAW,EAAEF;IAAW,EAAE;IACrDJ,cAAc,CAACK,KAAK,CAAyB;EAC/C,CAAC;EAED,MAAME,SAAS,GACbR,MAAM,CAACG,IAAI,KAAK,KAAK,IAAIH,MAAM,CAACG,IAAI,KAAK,QAAQ,GAC7CP,YAAY,GACZC,aAAa;EAEnB,OACE,oBAAC,WAAW;IACV,KAAK,EAAC,aAAa;IACnB,KAAK,EAAEG,MAAM,CAACO,WAAY;IAC1B,QAAQ,EAAEH,YAAa;IACvB,OAAO,EAAEI,SAAS,CAACC,GAAG,CAACC,CAAC,KAAK;MAAEC,KAAK,EAAED;IAAE,CAAC,CAAC;EAAE,EAC5C;AAEN,CAAC"}