{"version":3,"file":"CodeEditor.js","names":["React","useVisConfig","useQueryId","useQueryIdFromDashboard","Box2","sortObjectByKeys","CodeBlock","CodeEditor","config","configOverrides","query","dashboard","queryId","dashboardQueryId","visConfig","visConfigSorted","visConfigToDisplay","JSON","stringify"],"sources":["../../../src/CodeEditor/CodeEditor.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React from 'react'\nimport type { CAll } from '@looker/visualizations-adapters'\nimport {\n  useVisConfig,\n  useQueryId,\n  useQueryIdFromDashboard,\n} from '@looker/components-data'\nimport { Box2 } from '@looker/components'\nimport { sortObjectByKeys } from '../utils'\nimport { CodeBlock } from '../CodeBlock'\n\ntype CodeEditorProps = {\n  config: Partial<CAll>\n} & (\n  | {\n      dashboard?: never\n      query?: string | number\n    }\n  | {\n      dashboard?: number\n      query?: never\n    }\n)\n\nexport const CodeEditor = ({\n  config: configOverrides,\n  query,\n  dashboard,\n}: CodeEditorProps) => {\n  const { queryId: dashboardQueryId } = useQueryIdFromDashboard(dashboard)\n  const { queryId } = useQueryId(query || dashboardQueryId)\n  const { visConfig } = useVisConfig(queryId, configOverrides)\n  const visConfigSorted = sortObjectByKeys(visConfig)\n  const visConfigToDisplay = JSON.stringify(visConfigSorted, null, 2)\n\n  return (\n    <Box2 mt=\"large\" height=\"100%\" width=\"100%\">\n      <CodeBlock code={visConfigToDisplay} language=\"json\" />\n    </Box2>\n  )\n}\n"],"mappings":";AAIA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SACEC,YAAY,EACZC,UAAU,EACVC,uBAAuB,QAClB,yBAAyB;AAChC,SAASC,IAAI,QAAQ,oBAAoB;AACzC,SAASC,gBAAgB,QAAQ,UAAU;AAC3C,SAASC,SAAS,QAAQ,cAAc;AAexC,OAAO,MAAMC,UAAU,GAAG,CAAC;EACzBC,MAAM,EAAEC,eAAe;EACvBC,KAAK;EACLC;AACe,CAAC,KAAK;EACrB,MAAM;IAAEC,OAAO,EAAEC;EAAiB,CAAC,GAAGV,uBAAuB,CAACQ,SAAS,CAAC;EACxE,MAAM;IAAEC;EAAQ,CAAC,GAAGV,UAAU,CAACQ,KAAK,IAAIG,gBAAgB,CAAC;EACzD,MAAM;IAAEC;EAAU,CAAC,GAAGb,YAAY,CAACW,OAAO,EAAEH,eAAe,CAAC;EAC5D,MAAMM,eAAe,GAAGV,gBAAgB,CAACS,SAAS,CAAC;EACnD,MAAME,kBAAkB,GAAGC,IAAI,CAACC,SAAS,CAACH,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC;EAEnE,OACE,oBAAC,IAAI;IAAC,EAAE,EAAC,OAAO;IAAC,MAAM,EAAC,MAAM;IAAC,KAAK,EAAC;EAAM,GACzC,oBAAC,SAAS;IAAC,IAAI,EAAEC,kBAAmB;IAAC,QAAQ,EAAC;EAAM,EAAG,CAClD;AAEX,CAAC"}