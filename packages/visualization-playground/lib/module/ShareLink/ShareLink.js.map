{"version":3,"file":"ShareLink.js","names":["React","useContext","DataState","useQueryId","useQueryIdFromDashboard","Link","ExtensionContext","ShareLink","slug","dashboard","extensionSDK","queryId","dashboardQueryId","getById","useContainer","share_url","handleClick","openBrowserWindow"],"sources":["../../../src/ShareLink/ShareLink.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React, { useContext } from 'react'\nimport {\n  DataState,\n  useQueryId,\n  useQueryIdFromDashboard,\n} from '@looker/components-data'\nimport { Link } from '@looker/components'\nimport type { ExtensionContextData } from '@looker/extension-sdk-react'\nimport type { IQuery } from '@looker/sdk'\nimport { ExtensionContext } from '@looker/extension-sdk-react'\n\ntype ShareLinkProps = {\n  slug?: string | number\n  dashboard?: number\n}\n\nexport const ShareLink = ({ slug, dashboard }: ShareLinkProps) => {\n  const { extensionSDK } = useContext<ExtensionContextData>(ExtensionContext)\n\n  const { queryId: dashboardQueryId } = useQueryIdFromDashboard(dashboard)\n  const { queryId } = useQueryId(slug)\n  const { getById } = DataState.useContainer()\n\n  const { share_url = '' } =\n    getById(dashboardQueryId || queryId, 'metadata') || ({} as IQuery)\n\n  if (!extensionSDK) return null\n\n  const handleClick = () => {\n    extensionSDK.openBrowserWindow(share_url || '', '_blank')\n  }\n\n  if (share_url) {\n    return (\n      <Link href=\"#\" onClick={handleClick} fontSize=\"small\">\n        View query in Explore\n      </Link>\n    )\n  } else {\n    return null\n  }\n}\n"],"mappings":";AAIA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SACEC,SAAS,EACTC,UAAU,EACVC,uBAAuB,QAClB,yBAAyB;AAChC,SAASC,IAAI,QAAQ,oBAAoB;AAGzC,SAASC,gBAAgB,QAAQ,6BAA6B;AAO9D,OAAO,MAAMC,SAAS,GAAG,CAAC;EAAEC,IAAI;EAAEC;AAA0B,CAAC,KAAK;EAChE,MAAM;IAAEC;EAAa,CAAC,GAAGT,UAAU,CAAuBK,gBAAgB,CAAC;EAE3E,MAAM;IAAEK,OAAO,EAAEC;EAAiB,CAAC,GAAGR,uBAAuB,CAACK,SAAS,CAAC;EACxE,MAAM;IAAEE;EAAQ,CAAC,GAAGR,UAAU,CAACK,IAAI,CAAC;EACpC,MAAM;IAAEK;EAAQ,CAAC,GAAGX,SAAS,CAACY,YAAY,EAAE;EAE5C,MAAM;IAAEC,SAAS,GAAG;EAAG,CAAC,GACtBF,OAAO,CAACD,gBAAgB,IAAID,OAAO,EAAE,UAAU,CAAC,IAAK,CAAC,CAAY;EAEpE,IAAI,CAACD,YAAY,EAAE,OAAO,IAAI;EAE9B,MAAMM,WAAW,GAAG,MAAM;IACxBN,YAAY,CAACO,iBAAiB,CAACF,SAAS,IAAI,EAAE,EAAE,QAAQ,CAAC;EAC3D,CAAC;EAED,IAAIA,SAAS,EAAE;IACb,OACE,oBAAC,IAAI;MAAC,IAAI,EAAC,GAAG;MAAC,OAAO,EAAEC,WAAY;MAAC,QAAQ,EAAC;IAAO,2BAE9C;EAEX,CAAC,MAAM;IACL,OAAO,IAAI;EACb;AACF,CAAC"}