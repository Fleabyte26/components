{"version":3,"file":"SeriesValueFormat.js","names":["React","FieldText","has","renderFor","SeriesValueFormat","props","chartType","series","onSeriesChange","includes","handleChange","e","draft","value_format","target","value"],"sources":["../../../src/Series/SeriesValueFormat.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React from 'react'\nimport type { FormEvent } from 'react'\nimport type {\n  CArea,\n  CBar,\n  CColumn,\n  CLine,\n  CScatter,\n  CTable,\n  CSeriesBasic,\n  CSingleValue,\n} from '@looker/visualizations-adapters'\nimport { FieldText } from '@looker/components'\nimport has from 'lodash/has'\n\n/**\n * A list of relevant charts that access this configuration\n */\nexport type CValueFormatSupported =\n  | CArea\n  | CBar\n  | CColumn\n  | CLine\n  | CScatter\n  | CTable\n  | CSingleValue\n\nconst renderFor: Array<CValueFormatSupported['type']> = [\n  'area',\n  'bar',\n  'column',\n  'line',\n  'scatter',\n  'table',\n  'single_value',\n]\n\nexport type SeriesValueFormatProps = {\n  chartType: CValueFormatSupported['type']\n  series: CSeriesBasic\n  onSeriesChange: (series: CSeriesBasic) => void\n}\n\nexport const SeriesValueFormat = (props: SeriesValueFormatProps) => {\n  const { chartType, series, onSeriesChange } = props\n\n  if (!renderFor.includes(chartType) && !has(series, 'value_format')) {\n    // Early return! Only render for supported charts\n    return null\n  }\n\n  const handleChange = (e: FormEvent) => {\n    const draft = {\n      ...series,\n      value_format: (e.target as HTMLInputElement).value,\n    }\n    onSeriesChange(draft)\n  }\n\n  return (\n    <FieldText\n      label=\"Value Format\"\n      onChange={handleChange}\n      value={series.value_format}\n    />\n  )\n}\n"],"mappings":";;;AAIA,OAAOA,KAAK,MAAM,OAAO;AAYzB,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,OAAOC,GAAG,MAAM,YAAY;;AAc5B,MAAMC,SAA+C,GAAG,CACtD,MAAM,EACN,KAAK,EACL,QAAQ,EACR,MAAM,EACN,SAAS,EACT,OAAO,EACP,cAAc,CACf;AAQD,OAAO,MAAMC,iBAAiB,GAAIC,KAA6B,IAAK;EAClE,MAAM;IAAEC,SAAS;IAAEC,MAAM;IAAEC;EAAe,CAAC,GAAGH,KAAK;EAEnD,IAAI,CAACF,SAAS,CAACM,QAAQ,CAACH,SAAS,CAAC,IAAI,CAACJ,GAAG,CAACK,MAAM,EAAE,cAAc,CAAC,EAAE;IAElE,OAAO,IAAI;EACb;EAEA,MAAMG,YAAY,GAAIC,CAAY,IAAK;IACrC,MAAMC,KAAK,mCACNL,MAAM;MACTM,YAAY,EAAGF,CAAC,CAACG,MAAM,CAAsBC;IAAK,EACnD;IACDP,cAAc,CAACI,KAAK,CAAC;EACvB,CAAC;EAED,OACE,oBAAC,SAAS;IACR,KAAK,EAAC,cAAc;IACpB,QAAQ,EAAEF,YAAa;IACvB,KAAK,EAAEH,MAAM,CAACM;EAAa,EAC3B;AAEN,CAAC"}