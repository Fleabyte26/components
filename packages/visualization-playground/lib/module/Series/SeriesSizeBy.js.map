{"version":3,"file":"SeriesSizeBy.js","names":["React","has","FieldSelect","renderFor","SeriesSizeBy","props","chartType","fields","series","onSeriesChange","includes","handleChange","value","draft","size_by","sizeByOptions","measures","map","m","name","s"],"sources":["../../../src/Series/SeriesSizeBy.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport React from 'react'\nimport type {\n  CScatter,\n  CScatterSeries,\n  Fields,\n} from '@looker/visualizations-adapters'\nimport has from 'lodash/has'\nimport { FieldSelect } from '@looker/components'\n\n/**\n * A list of relevant charts that access this configuration\n */\nexport type CSeriesSizeBySupported = CScatter\n\nconst renderFor: Array<CSeriesSizeBySupported['type']> = ['scatter']\n\nexport type SeriesSizeByProps = {\n  chartType: CSeriesSizeBySupported['type']\n  fields: Fields\n  series: CScatterSeries\n  onSeriesChange: (series: CScatterSeries) => void\n}\n\nexport const SeriesSizeBy = (props: SeriesSizeByProps) => {\n  const { chartType, fields, series, onSeriesChange } = props\n\n  if (!renderFor.includes(chartType) && !has(series, 'size_by')) {\n    // Early return! Only render for supported charts\n    return null\n  }\n\n  const handleChange = (value: string) => {\n    const draft = { ...series, size_by: value }\n    onSeriesChange(draft)\n  }\n\n  const sizeByOptions = ['none', ...fields.measures.map(m => m.name)]\n\n  return (\n    <FieldSelect\n      label=\"Size By\"\n      onChange={handleChange}\n      options={sizeByOptions.map(s => ({ value: s }))}\n      value={series.size_by || 'none'}\n    />\n  )\n}\n"],"mappings":";;;AAIA,OAAOA,KAAK,MAAM,OAAO;AAMzB,OAAOC,GAAG,MAAM,YAAY;AAC5B,SAASC,WAAW,QAAQ,oBAAoB;;AAOhD,MAAMC,SAAgD,GAAG,CAAC,SAAS,CAAC;AASpE,OAAO,MAAMC,YAAY,GAAIC,KAAwB,IAAK;EACxD,MAAM;IAAEC,SAAS;IAAEC,MAAM;IAAEC,MAAM;IAAEC;EAAe,CAAC,GAAGJ,KAAK;EAE3D,IAAI,CAACF,SAAS,CAACO,QAAQ,CAACJ,SAAS,CAAC,IAAI,CAACL,GAAG,CAACO,MAAM,EAAE,SAAS,CAAC,EAAE;IAE7D,OAAO,IAAI;EACb;EAEA,MAAMG,YAAY,GAAIC,KAAa,IAAK;IACtC,MAAMC,KAAK,mCAAQL,MAAM;MAAEM,OAAO,EAAEF;IAAK,EAAE;IAC3CH,cAAc,CAACI,KAAK,CAAC;EACvB,CAAC;EAED,MAAME,aAAa,GAAG,CAAC,MAAM,EAAE,GAAGR,MAAM,CAACS,QAAQ,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC;EAEnE,OACE,oBAAC,WAAW;IACV,KAAK,EAAC,SAAS;IACf,QAAQ,EAAER,YAAa;IACvB,OAAO,EAAEI,aAAa,CAACE,GAAG,CAACG,CAAC,KAAK;MAAER,KAAK,EAAEQ;IAAE,CAAC,CAAC,CAAE;IAChD,KAAK,EAAEZ,MAAM,CAACM,OAAO,IAAI;EAAO,EAChC;AAEN,CAAC"}