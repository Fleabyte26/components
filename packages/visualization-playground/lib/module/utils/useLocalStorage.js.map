{"version":3,"file":"useLocalStorage.js","names":["useEffect","useContext","useState","useCallback","AppContext","useLocalStorage","key","value","localStorageSetItem","localStorageGetItem","stateValue","setStateValue","getValue","localStorageValue","JSON","parse","error","console","setValue","newValue","stringify"],"sources":["../../../src/utils/useLocalStorage.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport { useEffect, useContext, useState, useCallback } from 'react'\nimport { AppContext } from '../AppContext'\n\n/*\n * Get and Set localstorage value to the provided key.\n * If value argument is provided, set the value. If value argument is undefined,\n * read from localstorage.\n */\nexport const useLocalStorage = <T>(\n  key: string,\n  value?: T\n): [T | undefined, (newValue?: T) => void] => {\n  const { localStorageSetItem, localStorageGetItem } = useContext(AppContext)\n\n  const [stateValue, setStateValue] = useState<T | undefined>(value)\n\n  useEffect(() => {\n    const getValue = async () => {\n      try {\n        if (localStorageGetItem) {\n          const localStorageValue = await localStorageGetItem(key)\n          if (localStorageValue) {\n            setStateValue(JSON.parse(localStorageValue))\n          }\n        }\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(error)\n      }\n    }\n\n    getValue()\n  }, [key, localStorageGetItem])\n\n  const setValue = useCallback(\n    (newValue?: T) => {\n      if (localStorageSetItem) {\n        localStorageSetItem(key, JSON.stringify(newValue))\n      }\n      setStateValue(newValue)\n    },\n    [key, localStorageSetItem]\n  )\n\n  return [stateValue, setValue]\n}\n"],"mappings":";AAIA,SAASA,SAAS,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACpE,SAASC,UAAU,QAAQ,eAAe;;AAO1C,OAAO,MAAMC,eAAe,GAAG,CAC7BC,GAAW,EACXC,KAAS,KACmC;EAC5C,MAAM;IAAEC,mBAAmB;IAAEC;EAAoB,CAAC,GAAGR,UAAU,CAACG,UAAU,CAAC;EAE3E,MAAM,CAACM,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAgBK,KAAK,CAAC;EAElEP,SAAS,CAAC,MAAM;IACd,MAAMY,QAAQ,GAAG,YAAY;MAC3B,IAAI;QACF,IAAIH,mBAAmB,EAAE;UACvB,MAAMI,iBAAiB,GAAG,MAAMJ,mBAAmB,CAACH,GAAG,CAAC;UACxD,IAAIO,iBAAiB,EAAE;YACrBF,aAAa,CAACG,IAAI,CAACC,KAAK,CAACF,iBAAiB,CAAC,CAAC;UAC9C;QACF;MACF,CAAC,CAAC,OAAOG,KAAK,EAAE;QAEdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAEDJ,QAAQ,EAAE;EACZ,CAAC,EAAE,CAACN,GAAG,EAAEG,mBAAmB,CAAC,CAAC;EAE9B,MAAMS,QAAQ,GAAGf,WAAW,CACzBgB,QAAY,IAAK;IAChB,IAAIX,mBAAmB,EAAE;MACvBA,mBAAmB,CAACF,GAAG,EAAEQ,IAAI,CAACM,SAAS,CAACD,QAAQ,CAAC,CAAC;IACpD;IACAR,aAAa,CAACQ,QAAQ,CAAC;EACzB,CAAC,EACD,CAACb,GAAG,EAAEE,mBAAmB,CAAC,CAC3B;EAED,OAAO,CAACE,UAAU,EAAEQ,QAAQ,CAAC;AAC/B,CAAC"}