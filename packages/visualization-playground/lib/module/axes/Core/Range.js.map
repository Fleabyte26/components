{"version":3,"file":"Range.js","names":["React","isNumeric","FieldText","Fieldset","FieldInfo","Range","props","axis","range","onAxisChange","yMin","yMax","deriveRangeValue","e","value","target","Number","handleMinChange","handleMaxChange"],"sources":["../../../../src/axes/Core/Range.tsx"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport type { FormEvent, FormEventHandler } from 'react'\nimport React from 'react'\nimport { isNumeric } from '@looker/visualizations-adapters'\nimport type {\n  YAxisConfig,\n  YAxisEndpoint,\n} from '@looker/visualizations-adapters'\nimport { FieldText, Fieldset } from '@looker/components'\nimport { FieldInfo } from '../../FieldInfo'\n\nexport type RangeEditorProps = {\n  axis: YAxisConfig\n  onAxisChange: (axis: YAxisConfig) => void\n}\n\nexport const Range = (props: RangeEditorProps) => {\n  const {\n    axis,\n    axis: { range = ['auto', 'auto'] },\n    onAxisChange,\n  } = props\n\n  const [yMin, yMax] = range\n\n  const deriveRangeValue = (e: FormEvent): YAxisEndpoint => {\n    const { value } = e.target as HTMLInputElement\n\n    switch (true) {\n      case isNumeric(value):\n        return Number(value)\n      case value === '-': // allow typing a negative number\n        return value as unknown as number\n      default:\n        return 'auto'\n    }\n  }\n\n  const handleMinChange: FormEventHandler<HTMLInputElement> = e => {\n    onAxisChange({ ...axis, range: [deriveRangeValue(e), yMax] })\n  }\n\n  const handleMaxChange: FormEventHandler<HTMLInputElement> = e => {\n    onAxisChange({ ...axis, range: [yMin, deriveRangeValue(e)] })\n  }\n\n  return (\n    <Fieldset inline>\n      <FieldText\n        label=\"Y-min\"\n        value={yMin}\n        onChange={handleMinChange}\n        detail={<FieldInfo content=\"Number or 'auto'\" />}\n      />\n      <FieldText\n        label=\"Y-max\"\n        value={yMax}\n        onChange={handleMaxChange}\n        detail={<FieldInfo content=\"Number or 'auto'\" />}\n      />\n    </Fieldset>\n  )\n}\n"],"mappings":";;;;AAKA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,iCAAiC;AAK3D,SAASC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;AACxD,SAASC,SAAS,QAAQ,iBAAiB;AAO3C,OAAO,MAAMC,KAAK,GAAIC,KAAuB,IAAK;EAChD,MAAM;IACJC,IAAI;IACJA,IAAI,EAAE;MAAEC,KAAK,GAAG,CAAC,MAAM,EAAE,MAAM;IAAE,CAAC;IAClCC;EACF,CAAC,GAAGH,KAAK;EAET,MAAM,CAACI,IAAI,EAAEC,IAAI,CAAC,GAAGH,KAAK;EAE1B,MAAMI,gBAAgB,GAAIC,CAAY,IAAoB;IACxD,MAAM;MAAEC;IAAM,CAAC,GAAGD,CAAC,CAACE,MAA0B;IAE9C,QAAQ,IAAI;MACV,KAAKd,SAAS,CAACa,KAAK,CAAC;QACnB,OAAOE,MAAM,CAACF,KAAK,CAAC;MACtB,KAAKA,KAAK,KAAK,GAAG;QAChB,OAAOA,KAAK;MACd;QACE,OAAO,MAAM;IAAA;EAEnB,CAAC;EAED,MAAMG,eAAmD,GAAGJ,CAAC,IAAI;IAC/DJ,YAAY,iCAAMF,IAAI;MAAEC,KAAK,EAAE,CAACI,gBAAgB,CAACC,CAAC,CAAC,EAAEF,IAAI;IAAC,GAAG;EAC/D,CAAC;EAED,MAAMO,eAAmD,GAAGL,CAAC,IAAI;IAC/DJ,YAAY,iCAAMF,IAAI;MAAEC,KAAK,EAAE,CAACE,IAAI,EAAEE,gBAAgB,CAACC,CAAC,CAAC;IAAC,GAAG;EAC/D,CAAC;EAED,OACE,oBAAC,QAAQ;IAAC,MAAM;EAAA,GACd,oBAAC,SAAS;IACR,KAAK,EAAC,OAAO;IACb,KAAK,EAAEH,IAAK;IACZ,QAAQ,EAAEO,eAAgB;IAC1B,MAAM,EAAE,oBAAC,SAAS;MAAC,OAAO,EAAC;IAAkB;EAAI,EACjD,EACF,oBAAC,SAAS;IACR,KAAK,EAAC,OAAO;IACb,KAAK,EAAEN,IAAK;IACZ,QAAQ,EAAEO,eAAgB;IAC1B,MAAM,EAAE,oBAAC,SAAS;MAAC,OAAO,EAAC;IAAkB;EAAI,EACjD,CACO;AAEf,CAAC"}