{"version":3,"file":"quote_filter.js","names":["quoteFilter","filter","test","toLowerCase","quotedContent","replace"],"sources":["../../../../src/utils/string/quote_filter.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\n\n/**\n * Adds quotes around filter string and escapes quotes in filter string\n */\nexport const quoteFilter = <T>(filter?: T | string | null) => {\n  if (typeof filter === 'undefined' || filter === null) {\n    filter = '';\n  }\n  if (\n    typeof filter === 'string' &&\n    (/^-|['\",%_^\\\\]/.test(filter) ||\n      filter.toLowerCase() === 'null' ||\n      filter.toLowerCase() === 'empty')\n  ) {\n    const quotedContent = filter\n      // Escapes any backslashes found in the value, i.e. \\ becomes \\\\\n      .replace(/\\\\/g, '\\\\\\\\')\n      // Escapes any interior double quotes\n      .replace(/\"/g, '\\\\\"');\n    return `\"${quotedContent}\"`;\n  } else {\n    return filter;\n  }\n};\n"],"mappings":"AAQA,OAAO,MAAMA,WAAW,GAAOC,MAA0B,IAAK;EAC5D,IAAI,OAAOA,MAAM,KAAK,WAAW,IAAIA,MAAM,KAAK,IAAI,EAAE;IACpDA,MAAM,GAAG,EAAE;EACb;EACA,IACE,OAAOA,MAAM,KAAK,QAAQ,KACzB,eAAe,CAACC,IAAI,CAACD,MAAM,CAAC,IAC3BA,MAAM,CAACE,WAAW,CAAC,CAAC,KAAK,MAAM,IAC/BF,MAAM,CAACE,WAAW,CAAC,CAAC,KAAK,OAAO,CAAC,EACnC;IACA,MAAMC,aAAa,GAAGH,MAAM,CAEzBI,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAEtBA,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC;IACvB,OAAQ,IAAGD,aAAc,GAAE;EAC7B,CAAC,MAAM;IACL,OAAOH,MAAM;EACf;AACF,CAAC"}