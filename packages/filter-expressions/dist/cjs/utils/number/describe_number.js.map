{"version":3,"file":"describe_number.js","names":["_i18next","_interopRequireDefault","require","_defaultTo","_describe_is_item","_describe_is_any_value","_describe_null","_join_or","_describe_user_attribute","obj","__esModule","describeEquals","_ref","is","value","length","describeIsItem","joinOr","describeIsAnyValue","describeSingleValue","_ref2","type","concat","describeBetween","_ref3","bounds","low","high","t","i18next","bind","range","isInRangeText","ns","isNotInRangeText","filterToStringMap","describeNull","between","user_attribute","describeUserAttribute","describeNumber","item","defaultTo","exports"],"sources":["../../../../src/utils/number/describe_number.ts"],"sourcesContent":["/**\n * Copyright (c) 2023 Google LLC\n * SPDX-License-Identifier: MIT\n */\nimport i18next from 'i18next';\nimport defaultTo from 'lodash/defaultTo';\nimport type { FilterItemToStringMapType, FilterModel } from '../../types';\nimport { describeIsItem } from '../summary/describe_is_item';\nimport { describeIsAnyValue } from '../summary/describe_is_any_value';\nimport { describeNull } from '../summary/describe_null';\nimport { joinOr } from '../summary/join_or';\nimport { describeUserAttribute } from '../user_attribute/describe_user_attribute';\n\nconst describeEquals = ({ is, value }: FilterModel) => {\n  return value && value.length\n    ? describeIsItem(is, joinOr(value))\n    : describeIsAnyValue();\n};\n\nconst describeSingleValue = ({ is, type, value }: FilterModel): string =>\n  describeIsItem(is, `${type} ${value && value.length ? value[0] : ''}`);\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst describeBetween = ({ bounds, low, high, is }: any) => {\n  if (bounds) {\n    const t = i18next.t.bind(i18next);\n    const range = `${bounds[0]}${low}, ${high}${bounds[1]}`;\n    const isInRangeText = t('is in range range', {\n      ns: 'describe_number',\n      range,\n    });\n    const isNotInRangeText = t('is not in range range', {\n      ns: 'describe_number',\n      range,\n    });\n    return is ? isInRangeText : isNotInRangeText;\n  }\n  return '';\n};\n\nconst filterToStringMap: FilterItemToStringMapType = {\n  null: describeNull,\n  between: describeBetween,\n  '=': describeEquals,\n  '>': describeSingleValue,\n  '>=': describeSingleValue,\n  '<': describeSingleValue,\n  '<=': describeSingleValue,\n  user_attribute: describeUserAttribute,\n};\n\n/**\n * Maps a FilterItem to a function for converting it to a filter summary\n */\nexport const describeNumber = (item: FilterModel): string =>\n  defaultTo(filterToStringMap[item.type], () => '')(item);\n"],"mappings":";;;;;;AAIA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,IAAAE,iBAAA,GAAAF,OAAA;AACA,IAAAG,sBAAA,GAAAH,OAAA;AACA,IAAAI,cAAA,GAAAJ,OAAA;AACA,IAAAK,QAAA,GAAAL,OAAA;AACA,IAAAM,wBAAA,GAAAN,OAAA;AAAkF,SAAAD,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAElF,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,IAAA,EAAmC;EAAA,IAA7BC,EAAE,GAAAD,IAAA,CAAFC,EAAE;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;EACjC,OAAOA,KAAK,IAAIA,KAAK,CAACC,MAAM,GACxB,IAAAC,gCAAc,EAACH,EAAE,EAAE,IAAAI,eAAM,EAACH,KAAK,CAAC,CAAC,GACjC,IAAAI,yCAAkB,EAAC,CAAC;AAC1B,CAAC;AAED,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAAC,KAAA;EAAA,IAAMP,EAAE,GAAAO,KAAA,CAAFP,EAAE;IAAEQ,IAAI,GAAAD,KAAA,CAAJC,IAAI;IAAEP,KAAK,GAAAM,KAAA,CAALN,KAAK;EAAA,OAC5C,IAAAE,gCAAc,EAACH,EAAE,KAAAS,MAAA,CAAKD,IAAI,OAAAC,MAAA,CAAIR,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAGD,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAE,CAAC;AAAA;AAGxE,IAAMS,eAAe,GAAG,SAAlBA,eAAeA,CAAAC,KAAA,EAAuC;EAAA,IAAjCC,MAAM,GAAAD,KAAA,CAANC,MAAM;IAAEC,GAAG,GAAAF,KAAA,CAAHE,GAAG;IAAEC,IAAI,GAAAH,KAAA,CAAJG,IAAI;IAAEd,EAAE,GAAAW,KAAA,CAAFX,EAAE;EAC9C,IAAIY,MAAM,EAAE;IACV,IAAMG,CAAC,GAAGC,mBAAO,CAACD,CAAC,CAACE,IAAI,CAACD,mBAAO,CAAC;IACjC,IAAME,KAAK,MAAAT,MAAA,CAAMG,MAAM,CAAC,CAAC,CAAC,EAAAH,MAAA,CAAGI,GAAG,QAAAJ,MAAA,CAAKK,IAAI,EAAAL,MAAA,CAAGG,MAAM,CAAC,CAAC,CAAC,CAAE;IACvD,IAAMO,aAAa,GAAGJ,CAAC,CAAC,mBAAmB,EAAE;MAC3CK,EAAE,EAAE,iBAAiB;MACrBF,KAAK,EAALA;IACF,CAAC,CAAC;IACF,IAAMG,gBAAgB,GAAGN,CAAC,CAAC,uBAAuB,EAAE;MAClDK,EAAE,EAAE,iBAAiB;MACrBF,KAAK,EAALA;IACF,CAAC,CAAC;IACF,OAAOlB,EAAE,GAAGmB,aAAa,GAAGE,gBAAgB;EAC9C;EACA,OAAO,EAAE;AACX,CAAC;AAED,IAAMC,iBAA4C,GAAG;EACnD,QAAMC,2BAAY;EAClBC,OAAO,EAAEd,eAAe;EACxB,GAAG,EAAEZ,cAAc;EACnB,GAAG,EAAEQ,mBAAmB;EACxB,IAAI,EAAEA,mBAAmB;EACzB,GAAG,EAAEA,mBAAmB;EACxB,IAAI,EAAEA,mBAAmB;EACzBmB,cAAc,EAAEC;AAClB,CAAC;AAKM,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,IAAiB;EAAA,OAC9C,IAAAC,qBAAS,EAACP,iBAAiB,CAACM,IAAI,CAACpB,IAAI,CAAC,EAAE;IAAA,OAAM,EAAE;EAAA,EAAC,CAACoB,IAAI,CAAC;AAAA;AAACE,OAAA,CAAAH,cAAA,GAAAA,cAAA"}